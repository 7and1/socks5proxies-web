# Cloudflare Workers Configuration for OpenNext
# Account ID is loaded from CLOUDFLARE_ACCOUNT_ID environment variable / GitHub Secret

name = "socks5proxies"
main = ".open-next/worker.js"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Assets for static files
[assets]
directory = ".open-next/assets"
binding = "ASSETS"

# Environment variables
[vars]
NEXT_PUBLIC_API_URL = "https://api.socks5proxies.com"
NEXT_PUBLIC_WS_URL = "wss://api.socks5proxies.com/ws"
NEXT_PUBLIC_SITE_URL = "https://socks5proxies.com"
NODE_ENV = "production"

# Observability
[observability]
enabled = true
head_sampling_rate = 0.1

# Build configuration
[build]
command = "pnpm build:cloudflare"
cwd = "."
