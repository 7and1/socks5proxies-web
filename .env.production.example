# ============================================
# SOCKS5 Proxies - Production Environment
# ============================================
# Copy this file to .env.production and fill in the values
# DO NOT commit .env.production to version control

# ============================================
# Cloudflare Configuration
# ============================================
# Cloudflare Account ID (required for Workers/Pages deployment)
# Get from: https://dash.cloudflare.com -> URL path or Workers Overview
CLOUDFLARE_ACCOUNT_ID=

# Cloudflare API Token (optional - for advanced operations)
# Create with: Workers Scripts Edit + Cloudflare Pages Edit
CLOUDFLARE_API_TOKEN=

# Cloudflare Zone ID (optional - for DNS/SSL operations)
CLOUDFLARE_ZONE_ID=

# ============================================
# Application Settings
# ============================================
NODE_ENV=production
PORT=3000

# ============================================
# API URLs (Public-facing URLs for clients)
# ============================================
NEXT_PUBLIC_API_URL=https://api.socks5proxies.com
NEXT_PUBLIC_WS_URL=wss://api.socks5proxies.com/ws
NEXT_PUBLIC_SITE_URL=https://socks5proxies.com

# ============================================
# Go API Server Settings
# ============================================
PORT=8080
GIN_MODE=release

# Maximum concurrent proxy checks
MAX_CONCURRENT=50

# Daily rate limit per IP (free tier)
RATE_LIMIT_PER_DAY=100

# Allowed CORS origins (comma-separated)
# SECURITY: NEVER use * in production - it enables CSRF attacks
# Always specify exact domains in production
ALLOWED_ORIGINS=https://socks5proxies.com,https://www.socks5proxies.com,https://api.socks5proxies.com

# Trusted proxies (for X-Forwarded-For headers)
# If running behind nginx + Cloudflare, keep nginx as the only trusted hop.
TRUSTED_PROXIES=127.0.0.1,::1,nginx-proxy

# ============================================
# Redis Settings
# ============================================
# Redis server address (use service name in Docker)
REDIS_ADDR=redis:6379

# Redis password (leave empty if no auth)
REDIS_PASSWORD=

# Redis database number
REDIS_DB=0

# ============================================
# Database Settings
# ============================================
# SQLite database path for local storage
DB_PATH=/data/socksproxies.db

# Optional: PostgreSQL connection string (if using Supabase)
# DATABASE_URL=your_postgresql_connection_string
# POSTGRES_PASSWORD=your_password_here

# ============================================
# External Service URLs
# ============================================
# IP check service for proxy validation
JUDGE_URL=https://api.ipify.org?format=text

# ============================================
# GeoIP Settings
# ============================================
# Path to GeoLite2-Country.mmdb database
# Optional: Leave empty to disable GeoIP features
GEOIP_DB=/data/GeoLite2-Country.mmdb
GEOIP_CITY_DB=/data/GeoLite2-City.mmdb
GEOIP_ASN_DB=/data/GeoLite2-ASN.mmdb

# ============================================
# Proxy List Seeding
# ============================================
# Path to initial proxy list file (one proxy per line: ip:port)
# Optional: Leave empty to skip seeding
PROXY_LIST_PATH=/data/proxies.txt

# ============================================
# Proxy List Sync
# ============================================
# CSV source URL for proxy list syncing
PROXY_SOURCE_URL=
# Sync interval (duration or seconds)
PROXY_SYNC_INTERVAL=5m
# Cache TTLs (duration or seconds)
PROXY_API_CACHE_TTL=300
PROXY_WEB_CACHE_TTL=3600
# Export jobs
EXPORT_DIR=/data/exports
EXPORT_JOB_TTL=2h
# API Keys for authenticated access (comma-separated)
API_KEYS=
# Rate limit per API key per hour
API_RATE_LIMIT_HOUR=1000

# ============================================
# Deployment Settings
# ============================================
# Domain name for nginx configuration
DOMAIN=socks5proxies.com
API_DOMAIN=api.socks5proxies.com

# Email for Let's Encrypt notifications
LETSENCRYPT_EMAIL=admin@example.com

# ============================================
# Monitoring & Logging
# ============================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable debug mode (additional logging)
DEBUG=false

# Observability (optional)
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.0
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_EXPORTER_OTLP_INSECURE=true
OTEL_SERVICE_NAME=socks5proxies-api
SLOW_REQUEST_THRESHOLD=2s
GRAFANA_ADMIN_PASSWORD=

# ============================================
# Security Settings (REQUIRED for production)
# ============================================
# IMPORTANT: Set ENVIRONMENT to production for stricter security
ENVIRONMENT=production

# JWT Secret for authentication (REQUIRED in production)
# SECURITY: Must be at least 32 characters for adequate security
# Generate with: openssl rand -base64 32
JWT_SECRET=

# ============================================
# Cloudflare (do not commit real values)
# ============================================
CLOUDFLARE_ACCOUNT_ID=
CLOUDFLARE_API_TOKEN=

# GitHub (optional, for CI/CD setup)
GITHUB_TOKEN=
